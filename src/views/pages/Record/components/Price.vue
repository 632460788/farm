<template>
    <div id="Price"></div>
</template>

<script>
  import echarts from "echarts"
    export default {
        name: "Price",
        data(){
          return{
            Data: {
            "PriceChartData": [[1414800000000,40.00],[1417392000000,40.00],[1420070400000,40.00],[1422748800000,41.00],[1425168000000,41.00],[1427846400000,41.00],[1430438400000,41.00],[1433116800000,41.00],[1435708800000,41.00],[1438387200000,40.00],[1441065600000,33.00],[1443657600000,33.00],[1446336000000,33.00],[1448928000000,33.00],[1451606400000,33.00],[1454284800000,33.00],[1456790400000,33.00],[1459468800000,33.00],[1462060800000,33.00],[1464739200000,33.00],[1467331200000,33.00],[1470009600000,39.00],[1472688000000,39.00],[1475280000000,39.00],[1477958400000,39.00],[1480550400000,39.00],[1483228800000,39.00],[1485907200000,39.00],[1488326400000,43.00],[1491004800000,43.00],[1493596800000,43.00],[1496275200000,44.00],[1498867200000,41.00],[1501545600000,39.00],[1504224000000,39.00],[1506816000000,37.00],[1509494400000,37.00],[1512086400000,37.00],[1514764800000,35.00],[1517443200000,35.00],[1519862400000,35.00],[1522540800000,35.00],[1525132800000,35.00],[1527811200000,35.00],[1530403200000,35.00],[1533081600000,28.00],[1535760000000,28.00],[1538352000000,28.00],[1541030400000,24.00],[1543622400000,24.00],[1546300800000,19.00],[1548979200000,19.00],[1551398400000,16.00],[1554076800000,16.00],[1556668800000,16.00],[1559347200000,16.00],[1561939200000,16.00],[1564617600000,16.00],[1567296000000,18.00],[1569888000000,18.00],[1572566400000,18.00],[1575158400000,18.00],[1577836800000,18.00],[1580515200000,18.00],[1583020800000,18.00],[1585699200000,18.00],[1588291200000,18.00],[1590969600000,18.00],[1593561600000,18.00],[1596240000000,18.00],[1598918400000,18.00],[1601510400000,18.00]],
              // [[1375315200000,20.00],[1377993600000,20.00],[1380585600000,20.00],[1383264000000,20.00],[1385856000000,18.00],[1388534400000,20.00],[1391212800000,20.00],[1393632000000,20.00],[1396310400000,20.00],[1398902400000,20.00],[1401580800000,27.00],[1404172800000,32.00],[1406851200000,35.00],[1409529600000,40.00],[1412121600000,40.00],[1414800000000,40.00],[1417392000000,40.00],[1420070400000,40.00],[1422748800000,41.00],[1425168000000,41.00],[1427846400000,41.00],[1430438400000,41.00],[1433116800000,41.00],[1435708800000,41.00],[1438387200000,40.00],[1441065600000,33.00],[1443657600000,33.00],[1446336000000,33.00],[1448928000000,33.00],[1451606400000,33.00],[1454284800000,33.00],[1456790400000,33.00],[1459468800000,33.00],[1462060800000,33.00],[1464739200000,33.00],[1467331200000,33.00],[1470009600000,39.00],[1472688000000,39.00],[1475280000000,39.00],[1477958400000,39.00],[1480550400000,39.00],[1483228800000,39.00],[1485907200000,39.00],[1488326400000,43.00],[1491004800000,43.00],[1493596800000,43.00],[1496275200000,44.00],[1498867200000,41.00],[1501545600000,39.00],[1504224000000,39.00],[1506816000000,37.00],[1509494400000,37.00],[1512086400000,37.00],[1514764800000,35.00],[1517443200000,35.00],[1519862400000,35.00],[1522540800000,35.00],[1525132800000,35.00],[1527811200000,35.00],[1530403200000,35.00],[1533081600000,28.00],[1535760000000,28.00],[1538352000000,28.00],[1541030400000,24.00],[1543622400000,24.00],[1546300800000,19.00],[1548979200000,19.00],[1551398400000,16.00],[1554076800000,16.00],[1556668800000,16.00],[1559347200000,16.00],[1561939200000,16.00]],

              "TodayPrice": 16
        },
            times:[],
            prices:[]
          }
        },
      props:{

      },
      methods:{
          drawLine:function () {
            var dom = document.getElementById("Price")
            var myChart = echarts.init(dom)
            // let option ={
            //     title: {
            //       text: 'Beijing AQI'
            //     },
            //     tooltip: {
            //       trigger: 'axis'
            //     },
            //     xAxis: {
            //       data: this.times
            //     },
            //     yAxis: {
            //       splitLine: {
            //         show: false
            //       }
            //     },
            //     dataZoom: [{
            //       startValue: '2014-06-01'
            //     }, {
            //       type: 'inside'
            //     }],
            //       series: {
            //     name: 'Beijing AQI',
            //       type: 'line',
            //       data: this.prices
            //   }
            // }
            let option = {
              //backgroundColor: '#2b303c',
              xAxis: {
                type: 'category',
                data:  this.times,
                splitLine:{show: false},
                axisLine: {
                  lineStyle: {
                    type: 'solid',
                    color: '#fff',//左边线的颜色
                    width:'1'//坐标线的宽度
                  }
                },
                axisLabel: {
                  textStyle: {
                    color: '#fff',//坐标值得具体的颜色
                  }
                }
              },
              grid:{
                x:'10%',
                y:'13%',
                x2:"5%",
                y2:"13%"
              },
              yAxis: {
                type: 'value',
                splitLine:{show: false},
                axisLine: {
                  lineStyle: {
                    type: 'solid',
                    color: '#fff',//左边线的颜色
                    width:'1',//坐标线的宽度
                  }
                },
                axisLabel: {
                  textStyle: {
                    color: '#fff',//坐标值得具体的颜色
                  }
                }
              },
              series:
                [{
                  lineStyle: {
                    normal: {
                      //color: 'rgba(88,160,253,1)'
                      color: 'rgba(0,255,234,1)'

                    }
                  },
                  itemStyle: {
                    normal: {
                      //color: 'rgba(88,160,253,0.8)',
                      color: 'rgba(0,255,234,0.8)',

                    }
                  },

                  areaStyle: {
                    normal: {
                      color: {
                        type: 'linear',
                        x: 0,
                        y: 0,
                        x2: 0,
                        y2: 1,
                        colorStops: [{
                          offset: 0, color: 'rgba(88,160,253,1)'
                        }, {
                          offset: 0.5, color: 'rgba(88,160,253,0.7)'
                        }, {
                          offset: 1, color: 'rgba(88,160,253,0)'
                        }]
                      }
                    }
                  },
                  data: this.prices,
                  type: 'line',
                  smooth: true,
                  symbolSize: 15,
                  symbol:'circle',
                  // symbol:'diamond',
                  //symbol:'star',

                },
                ]
            };
            myChart.setOption(option,true)
          },
        getFormatDate: function(D){
          var yyyy = D.getFullYear();  //获取四位数字表示的年份
          /*获取月份，+1是因为getMonth方法返回的0(一月份)-11（十二月份）*/
          var mm = D.getMonth()+1;

          var dd = D.getDate();     //获取日期
          //分隔符
          var sep1 = "-";
          //用"0"补位不足两位数的时间
          mm = (mm<10)?("0"+mm):mm;

          dd = (dd<10)?("0"+dd):dd;
          var format = yyyy+sep1+mm+sep1+dd;
          return format;

        }
      },
      mounted() {
        for (let i = 0; i < this.Data.PriceChartData.length; i++) {
          this.times.push(this.getFormatDate(new Date(this.Data.PriceChartData[i][0])))
          this.prices.push(this.Data.PriceChartData[i][1])
        }
        this.drawLine()
      }

    }


</script>

<style scoped>

</style>
